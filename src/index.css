@import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap');

:root {
  --accent: #ff3a3a;
  --accent-glow: rgba(255,58,58,0.15);
  --accent-hover: #e02020;
  --bg: #09090b;
  --surface: #111114;
  --surface2: #18181c;
  --surface3: #222228;
  --border: #27272e;
  --border-light: #333340;
  --text: #f0f0f5;
  --text-dim: #9090a8;
  --text-muted: #505068;
  --radius: 10px;
}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Outfit',sans-serif;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased;overflow:hidden;height:100vh;height:100dvh}
body.landing-body{overflow:auto;height:auto}
#root{height:100%}
.loading-screen{height:100vh;display:flex;align-items:center;justify-content:center;background:var(--bg)}
.loading-pulse{width:40px;height:40px;border-radius:50%;background:var(--accent);animation:pulse 1s ease infinite}
@keyframes pulse{0%,100%{transform:scale(1);opacity:1}50%{transform:scale(1.3);opacity:.4}}
.auth-screen{height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;background:var(--bg);background-image:radial-gradient(ellipse at 20% 50%,rgba(255,58,58,.04) 0%,transparent 70%),radial-gradient(ellipse at 80% 50%,rgba(255,58,58,.03) 0%,transparent 70%)}
.auth-card{background:var(--surface);border:1px solid var(--border);border-radius:16px;padding:44px 40px;width:100%;max-width:400px;animation:fadeUp .4s ease}
.auth-logo{width:48px;height:48px;background:var(--accent);border-radius:12px;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:24px;color:white;margin-bottom:24px}
.auth-card h1{font-size:26px;font-weight:700;letter-spacing:-.5px;margin-bottom:6px}
.auth-subtitle{color:var(--text-dim);font-size:14px;margin-bottom:28px}
.invite-email-badge{background:rgba(255,58,58,.08);border:1px solid rgba(255,58,58,.2);color:var(--accent);padding:10px 16px;border-radius:8px;font-size:15px;font-weight:600;text-align:center;margin-bottom:16px;letter-spacing:.3px}
.auth-error{background:rgba(255,58,58,.1);border:1px solid rgba(255,58,58,.25);color:#ff8888;padding:10px 14px;border-radius:8px;font-size:13px;margin-bottom:16px}
.field{margin-bottom:18px}
.field label{display:block;font-size:12px;font-weight:600;color:var(--text-dim);margin-bottom:6px;text-transform:uppercase;letter-spacing:.5px}
.field input{width:100%;background:var(--bg);border:1px solid var(--border);border-radius:8px;padding:13px 14px;color:var(--text);font-family:'Outfit',sans-serif;font-size:15px;outline:none;transition:border-color .2s,box-shadow .2s}
.field input:focus{border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-glow)}
.auth-btn{width:100%;background:var(--accent);color:white;border:none;border-radius:8px;padding:14px;font-family:'Outfit',sans-serif;font-size:15px;font-weight:600;cursor:pointer;transition:background .2s,transform .1s;margin-top:4px}
.auth-btn:hover{background:var(--accent-hover)}
.auth-btn:active{transform:scale(.98)}
.auth-btn:disabled{opacity:.5;cursor:not-allowed}
.auth-toggle{text-align:center;margin-top:24px;font-size:14px;color:var(--text-dim)}
.auth-toggle a{color:var(--accent);cursor:pointer;font-weight:500}
.app-layout{display:flex;height:100vh;height:100dvh}
.main-content{flex:1;display:flex;flex-direction:column;min-width:0;height:100%}
.nav-overlay{position:fixed;inset:0;background:rgba(0,0,0,.6);z-index:90;animation:fadeIn .2s ease}
.nav-sidebar{position:fixed;left:0;top:0;bottom:0;width:260px;background:var(--surface);border-right:1px solid var(--border);z-index:100;display:flex;flex-direction:column;transform:translateX(-100%);transition:transform .25s cubic-bezier(.4,0,.2,1)}
.nav-sidebar.open{transform:translateX(0)}
.nav-brand{padding:20px;display:flex;align-items:center;gap:12px;border-bottom:1px solid var(--border)}
.nav-logo{width:36px;height:36px;background:var(--accent);border-radius:9px;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:18px;color:white;flex-shrink:0}
.nav-title{font-weight:700;font-size:17px;letter-spacing:-.3px}
.nav-links{flex:1;padding:12px 10px;display:flex;flex-direction:column;gap:2px}
.nav-link{display:flex;align-items:center;gap:12px;padding:11px 14px;border-radius:8px;border:none;background:none;color:var(--text-dim);font-family:'Outfit',sans-serif;font-size:14px;font-weight:500;cursor:pointer;transition:all .15s;width:100%;text-align:left}
.nav-link:hover{background:var(--surface2);color:var(--text)}
.nav-link.active{background:var(--accent-glow);color:var(--accent)}
.nav-group{margin:2px 0}
.nav-group-header{display:flex;align-items:center;gap:12px;padding:11px 14px;border-radius:8px;border:none;background:none;color:var(--text-dim);font-family:'Outfit',sans-serif;font-size:14px;font-weight:500;cursor:pointer;transition:all .15s;width:100%;text-align:left}
.nav-group-header:hover{background:var(--surface2);color:var(--text)}
.nav-group-header.active{color:var(--accent)}
.nav-chevron{margin-left:auto;transition:transform .2s}
.nav-chevron.expanded{transform:rotate(180deg)}
.nav-group-items{display:flex;flex-direction:column;gap:2px;padding-left:8px;margin-top:2px;border-left:1px solid var(--border);margin-left:28px}
.nav-link.sub{padding:8px 12px;padding-left:8px}
.nav-sub-dot{width:4px;height:4px;border-radius:50%;background:var(--text-dim);opacity:.6;flex-shrink:0;margin-right:8px}
.nav-link.sub .nav-sub-dot{margin-right:10px}
.nav-link.sub.active .nav-sub-dot{background:var(--accent);opacity:1}
.nav-footer{padding:12px 10px;border-top:1px solid var(--border)}
.nav-link.logout:hover{color:var(--accent)}
.chat-header,.page-header{display:flex;align-items:center;gap:12px;padding:12px 16px;border-bottom:1px solid var(--border);background:var(--surface);flex-shrink:0}
.page-header h1{font-size:18px;font-weight:700;letter-spacing:-.3px}
.program-detail-name-input{flex:1;min-width:0;background:none;border:none;font-family:inherit;font-size:18px;font-weight:700;letter-spacing:-.3px;color:var(--text);outline:none;padding:4px 8px;margin:-4px -8px;border-radius:6px}
.program-detail-name-input:hover,.program-detail-name-input:focus{background:var(--surface2)}
.menu-btn{width:38px;height:38px;display:flex;align-items:center;justify-content:center;border:1px solid var(--border);border-radius:8px;background:none;color:var(--text-dim);cursor:pointer;flex-shrink:0}
.menu-btn:hover{color:var(--text);border-color:var(--border-light)}
.source-toggle{display:flex;background:var(--bg);border:1px solid var(--border);border-radius:8px;overflow:hidden;flex-shrink:0}
.source-btn{padding:7px 14px;border:none;background:none;color:var(--text-muted);font-family:'Outfit',sans-serif;font-size:12px;font-weight:600;cursor:pointer;text-transform:uppercase;letter-spacing:.5px}
.source-btn:not(:last-child){border-right:1px solid var(--border)}
.source-btn.active{background:var(--accent);color:white}
.source-btn:hover:not(.active){color:var(--text-dim)}
.usage-pill{margin-left:auto;font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--text-muted);background:var(--surface2);border:1px solid var(--border);padding:5px 10px;border-radius:20px;flex-shrink:0}
.welcome{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px 20px;text-align:center;animation:fadeUp .5s ease}
.welcome-logo{width:64px;height:64px;background:var(--accent);border-radius:16px;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:32px;color:white;margin-bottom:24px;box-shadow:0 0 40px var(--accent-glow)}
.welcome h2{font-size:28px;font-weight:700;letter-spacing:-.5px;margin-bottom:8px}
.welcome p{color:var(--text-dim);font-size:15px;max-width:460px;line-height:1.6;margin-bottom:36px}
.suggestions{display:flex;flex-wrap:wrap;gap:8px;justify-content:center;max-width:620px}
.suggestion{background:var(--surface);border:1px solid var(--border);padding:10px 16px;border-radius:10px;font-family:'Outfit',sans-serif;font-size:13px;color:var(--text-dim);cursor:pointer;transition:all .2s}
.suggestion:hover{border-color:var(--accent);color:var(--text);box-shadow:0 0 12px var(--accent-glow)}
.messages{flex:1;overflow-y:auto;padding:24px 20px;display:flex;flex-direction:column;gap:24px;scroll-behavior:smooth}
.messages::-webkit-scrollbar{width:5px}
.messages::-webkit-scrollbar-thumb{background:var(--border);border-radius:3px}
.msg{animation:fadeUp .3s ease;max-width:800px}
.msg.user{align-self:flex-end;max-width:70%}
.msg-body.user{background:var(--accent);color:white;padding:12px 16px;border-radius:16px 16px 4px 16px;font-size:15px;line-height:1.5}
.msg.assistant{align-self:flex-start;width:100%}
.msg-header{display:flex;align-items:center;gap:10px;margin-bottom:8px}
.msg-avatar{width:28px;height:28px;background:var(--accent);border-radius:7px;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:13px;color:white;flex-shrink:0}
.summarize-action-btn{display:flex;align-items:center;gap:6px;margin-top:10px;padding:8px 16px;background:var(--surface2);border:1px solid var(--border);border-radius:8px;color:var(--text-dim);font-family:'Outfit',sans-serif;font-size:13px;font-weight:500;cursor:pointer;transition:all .2s;animation:fadeIn .3s ease}
.summarize-action-btn:hover{border-color:var(--accent);color:var(--accent);background:var(--accent-glow)}
.summarize-action-btn:active{transform:scale(.97)}
.summarize-loading{display:block;margin-top:10px;font-size:12px;color:var(--text-muted);font-style:italic;animation:pulse 1s ease infinite}
.msg-body.assistant.streaming::after{content:'';display:inline-block;width:2px;height:1em;background:var(--accent);margin-left:2px;vertical-align:text-bottom;animation:blink .7s step-end infinite}
@keyframes blink{0%,100%{opacity:1}50%{opacity:0}}
.bookmark-btn{background:none;border:none;color:var(--text-muted);cursor:pointer;padding:4px;border-radius:4px;opacity:0}
.msg:hover .bookmark-btn{opacity:1}
.bookmark-btn:hover,.bookmark-btn.active{color:var(--accent)}
.summary-box{margin-top:12px;background:var(--surface2);border:1px solid var(--border);border-left:3px solid var(--accent);border-radius:6px;padding:14px 18px;animation:fadeIn .3s ease}
.summary-header{display:flex;align-items:center;gap:6px;font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.8px;color:var(--accent);margin-bottom:8px}
.summary-content{font-size:14px;line-height:1.6;color:var(--text-dim)}
.summary-content p{margin-bottom:4px}
.summary-content p:last-child{margin-bottom:0}
.msg-body.assistant{background:var(--surface);border:1px solid var(--border);padding:18px 22px;border-radius:4px 14px 14px 14px;font-size:15px;line-height:1.75}
.msg-body.assistant p{margin-bottom:12px}
.msg-body.assistant p:last-child{margin-bottom:0}
.msg-body.assistant strong{color:var(--accent);font-weight:600}
.sources-bar{margin-top:12px;padding-top:12px;border-top:1px solid var(--border);display:flex;flex-wrap:wrap;align-items:center;gap:6px}
.sources-label{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:1px;color:var(--text-muted)}
.source-chip{font-size:11px;color:var(--text-dim);background:var(--surface2);border:1px solid var(--border);padding:3px 9px;border-radius:4px}
.typing{display:flex;gap:5px;padding:12px 0}
.typing span{width:7px;height:7px;background:var(--text-muted);border-radius:50%;animation:bounce .6s infinite alternate}
.typing span:nth-child(2){animation-delay:.2s}
.typing span:nth-child(3){animation-delay:.4s}
.input-area{padding:14px 16px 18px;border-top:1px solid var(--border);background:var(--surface);flex-shrink:0}
.profile-include-row{max-width:800px;margin:0 auto 12px}
.profile-include-btn{display:inline-flex;align-items:center;gap:6px;padding:9px 16px;border:1px solid var(--border-light);border-radius:10px;background:var(--surface);color:var(--text-dim);font-family:'Outfit',sans-serif;font-size:13.5px;font-weight:500;cursor:pointer;transition:all .2s}
.profile-include-btn:hover{color:var(--text);border-color:var(--accent);box-shadow:0 0 12px var(--accent-glow)}
.profile-include-btn.active{background:rgba(255,58,58,.1);color:var(--accent);border-color:var(--accent);box-shadow:0 0 12px var(--accent-glow)}
.input-row{display:flex;gap:10px;max-width:800px;margin:0 auto;align-items:flex-end}
.input-row textarea{flex:1;background:var(--bg);border:1px solid var(--border);border-radius:var(--radius);padding:13px 16px;color:var(--text);font-family:'Outfit',sans-serif;font-size:15px;resize:none;min-height:48px;max-height:120px;line-height:1.4;outline:none;transition:border-color .2s,box-shadow .2s}
.input-row textarea:focus{border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-glow)}
.input-row textarea::placeholder{color:var(--text-muted)}
.send-btn{width:48px;height:48px;background:var(--accent);border:none;border-radius:var(--radius);color:white;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0}
.send-btn:hover{background:var(--accent-hover)}
.send-btn:active{transform:scale(.95)}
.send-btn:disabled{opacity:.3;cursor:not-allowed}
.page-body{flex:1;overflow-y:auto;padding:16px}
.page-loading{height:200px;display:flex;align-items:center;justify-content:center}
.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;height:300px;color:var(--text-dim);gap:12px;font-size:14px}
.history-list{display:flex;flex-direction:column;gap:6px;max-width:800px;margin:0 auto}
.history-item{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);overflow:hidden;cursor:pointer}
.history-item:hover{border-color:var(--border-light)}
.history-item-header{display:flex;align-items:center;justify-content:space-between;padding:14px 18px;gap:12px}
.history-question{font-size:14px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex:1}
.history-time{font-family:'JetBrains Mono',monospace;font-size:11px;color:var(--text-muted);flex-shrink:0}
.history-answer{padding:0 18px 18px;font-size:14px;line-height:1.7;color:var(--text-dim);border-top:1px solid var(--border);padding-top:14px;animation:fadeIn .2s ease}
.history-answer strong{color:var(--accent)}
.bookmark-remove{background:none;border:none;color:var(--accent);cursor:pointer;padding:4px;flex-shrink:0;opacity:.6}
.bookmark-remove:hover{opacity:1}
@keyframes fadeUp{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes bounce{to{transform:translateY(-4px)}}
/* Settings cards */
.settings-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:24px;margin-bottom:0}
.settings-card-title{font-size:16px;font-weight:700;letter-spacing:-.2px;margin-bottom:16px}
.settings-avatar{width:44px;height:44px;background:var(--accent);border-radius:11px;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:18px;color:white;flex-shrink:0}
.settings-row{display:flex;justify-content:space-between;align-items:center;padding:12px 0;border-bottom:1px solid var(--border)}
.settings-label{font-size:13px;color:var(--text-dim)}
.settings-value{font-size:13px;font-weight:500}
.role-badge{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--accent);background:var(--accent-glow);padding:3px 10px;border-radius:4px;margin-left:auto}
.success-msg{background:rgba(46,196,134,0.1);border:1px solid rgba(46,196,134,0.25);color:#2ec486;padding:10px 14px;border-radius:8px;font-size:13px}
/* Athlete profile */
.athlete-card-subtitle{font-size:13px;color:var(--text-dim);margin-bottom:16px;margin-top:-8px}
.lift-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.lift-item{display:flex;align-items:center;justify-content:space-between;gap:8px;background:var(--bg);border:1px solid var(--border);border-radius:8px;padding:10px 12px}
.lift-label{font-size:13px;font-weight:500;white-space:nowrap}
.lift-input{width:72px;background:var(--surface2);border:1px solid var(--border);border-radius:6px;padding:7px 10px;color:var(--text);font-family:'JetBrains Mono',monospace;font-size:13px;text-align:right;outline:none;transition:border-color .2s}
.lift-input:focus{border-color:var(--accent);box-shadow:0 0 0 2px var(--accent-glow)}
.lift-input::placeholder{color:var(--text-muted)}
.lift-input::-webkit-outer-spin-button,.lift-input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}
.lift-input[type=number]{-moz-appearance:textfield}
.skill-list{display:flex;flex-direction:column;gap:6px}
.skill-row{display:flex;align-items:center;justify-content:space-between;gap:12px;background:var(--bg);border:1px solid var(--border);border-radius:8px;padding:10px 12px}
.skill-name{font-size:13px;font-weight:500;white-space:nowrap;flex-shrink:0}
.skill-levels{display:flex;gap:0;border:1px solid var(--border);border-radius:6px;overflow:hidden;flex-shrink:0}
.skill-level-btn{padding:5px 10px;border:none;background:none;color:var(--text-muted);font-family:'Outfit',sans-serif;font-size:11px;font-weight:500;cursor:pointer;transition:all .15s;white-space:nowrap}
.skill-level-btn:not(:last-child){border-right:1px solid var(--border)}
.skill-level-btn:hover{color:var(--text-dim);background:var(--surface2)}
.skill-level-btn.active{background:var(--accent);color:white}
@media(max-width:640px){.lift-grid{grid-template-columns:1fr}.skill-row{flex-direction:column;align-items:flex-start;gap:8px}.skill-levels{width:100%}.skill-level-btn{flex:1;text-align:center}}
/* Admin */
.admin-stats-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:10px;margin-bottom:8px}
.admin-stat-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:18px 22px}
.admin-trend-bar{height:8px;border-radius:4px;background:var(--accent);transition:width .3s;flex-shrink:0}
/* Paywall */
.paywall-card{background:var(--surface);border:1px solid var(--border);border-radius:16px;padding:36px 32px;max-width:400px;text-align:center;animation:fadeUp .4s ease}
.paywall-icon{width:56px;height:56px;background:var(--accent-glow);border-radius:14px;display:flex;align-items:center;justify-content:center;margin:0 auto 20px;color:var(--accent)}
.paywall-card h3{font-size:20px;font-weight:700;letter-spacing:-.3px;margin-bottom:8px}
.paywall-card p{color:var(--text-dim);font-size:14px;line-height:1.6;margin-bottom:24px}
.paywall-btn{background:var(--accent);color:white;border:none;border-radius:8px;padding:14px 32px;font-family:'Outfit',sans-serif;font-size:15px;font-weight:600;cursor:pointer;transition:background .2s,transform .1s}
.paywall-btn:hover{background:var(--accent-hover)}
.paywall-btn:active{transform:scale(.98)}
.paywall-bar{padding:14px 16px 18px;border-top:1px solid var(--border);background:var(--surface);flex-shrink:0}
.paywall-bar-inner{display:flex;align-items:center;gap:10px;max-width:800px;margin:0 auto;color:var(--text-dim);font-size:14px}
.paywall-bar-inner svg{color:var(--accent);flex-shrink:0}
.paywall-btn-sm{margin-left:auto;background:var(--accent);color:white;border:none;border-radius:8px;padding:10px 20px;font-family:'Outfit',sans-serif;font-size:13px;font-weight:600;cursor:pointer;transition:background .2s,transform .1s;flex-shrink:0}
.paywall-btn-sm:hover{background:var(--accent-hover)}
.paywall-btn-sm:active{transform:scale(.98)}
/* History search */
.history-search-wrap{position:relative;flex:1;max-width:320px;margin-left:auto}
.history-search-icon{position:absolute;left:12px;top:50%;transform:translateY(-50%);color:var(--text-muted);pointer-events:none}
.history-search-input{width:100%;background:var(--bg);border:1px solid var(--border);border-radius:8px;padding:9px 36px;color:var(--text);font-family:'Outfit',sans-serif;font-size:13px;outline:none;transition:border-color .2s,box-shadow .2s}
.history-search-input:focus{border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-glow)}
.history-search-input::placeholder{color:var(--text-muted)}
.history-search-clear{position:absolute;right:8px;top:50%;transform:translateY(-50%);background:none;border:none;color:var(--text-muted);cursor:pointer;padding:2px;display:flex;align-items:center;justify-content:center;border-radius:4px}
.history-search-clear:hover{color:var(--text)}
.search-result-count{max-width:800px;margin:0 auto 8px;font-size:12px;color:var(--text-muted);padding:0 2px}
.history-match-badge{font-size:10px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--accent);background:var(--accent-glow);padding:2px 8px;border-radius:4px;flex-shrink:0}
/* Checkout */
.checkout-plans{display:flex;flex-direction:column;gap:16px}
.checkout-plan-card{background:var(--surface);border:1px solid var(--border);border-radius:16px;padding:24px;cursor:pointer;transition:all .2s;position:relative}
.checkout-plan-card:hover{border-color:var(--accent);box-shadow:0 0 20px var(--accent-glow)}
.checkout-plan-card.featured{border-color:rgba(255,58,58,.3)}
.checkout-plan-card.featured:hover{border-color:var(--accent)}
.checkout-plan-badge{position:absolute;top:12px;right:16px;font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:.8px;color:var(--accent);background:var(--accent-glow);padding:4px 10px;border-radius:6px}
.checkout-embedded{min-height:400px}
.checkout-embedded iframe{min-height:400px}
/* Workout Review */
.workout-review-input-wrap{display:flex;flex-direction:column}
.workout-review-textarea{width:100%;background:var(--bg);border:1px solid var(--border);border-radius:var(--radius);padding:16px 18px;color:var(--text);font-family:'Outfit',sans-serif;font-size:15px;line-height:1.5;resize:vertical;min-height:140px;outline:none;transition:border-color .2s,box-shadow .2s}
.workout-review-textarea:focus{border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-glow)}
.workout-review-textarea::placeholder{color:var(--text-muted)}
.workout-review-textarea:disabled{opacity:.6;cursor:not-allowed}
.workout-review-result{animation:fadeUp .3s ease}
.workout-review-section{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:20px 24px;margin-bottom:16px}
.workout-review-section h3{font-size:12px;font-weight:700;text-transform:uppercase;letter-spacing:.8px;color:var(--accent);margin-bottom:12px}
.workout-review-content{font-size:15px;line-height:1.7;color:var(--text-dim)}
.workout-review-content p{margin-bottom:8px}
.workout-review-content p:last-child{margin-bottom:0}
.workout-review-content strong{color:var(--text);font-weight:600}
.workout-review-movement{margin-bottom:16px}
.workout-review-movement:last-child{margin-bottom:0}
.workout-review-movement strong{display:block;font-size:14px;color:var(--text);margin-bottom:6px}
.workout-review-cues{margin:0;padding-left:20px;color:var(--text-dim);font-size:14px;line-height:1.6}
.workout-review-cues li{margin-bottom:4px}
.workout-review-faults{list-style:none;padding-left:20px}
.workout-review-faults li::before{content:"âš  ";font-size:12px}
.workout-review-faults li{color:var(--text-muted);font-style:italic}
/* Collapsible block */
.workout-review-block{padding:0;overflow:hidden}
.workout-review-block-header{display:flex;align-items:center;justify-content:space-between;width:100%;padding:16px 20px;background:none;border:none;cursor:pointer;font-family:'Outfit',sans-serif;color:var(--text);text-align:left}
.workout-review-block-header:hover{background:var(--surface2)}
.workout-review-block-title{display:flex;align-items:center;gap:10px}
.workout-review-block-badge{font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.6px;padding:3px 10px;border-radius:4px;background:var(--surface2);color:var(--text-dim)}
.workout-review-block-badge--skills{background:rgba(168,85,247,.15);color:#c084fc}
.workout-review-block-badge--strength{background:rgba(239,68,68,.15);color:#f87171}
.workout-review-block-badge--metcon{background:rgba(34,197,94,.15);color:#4ade80}
.workout-review-block-summary{font-size:14px;font-weight:500;color:var(--text-dim)}
.workout-review-block-chevron{display:flex;align-items:center;color:var(--text-dim);transition:transform .2s ease}
.workout-review-block-chevron--open{transform:rotate(180deg)}
.workout-review-block-body{padding:0 20px 20px}
.workout-review-block-sublabel{font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:.6px;color:var(--accent);margin-bottom:8px}
/* Programs */
.programs-list-wrap{max-width:800px;margin:0 auto}
.programs-list-wrap .history-time{color:var(--text)}
.program-list-actions{display:flex;gap:4px;flex-shrink:0}
.program-list-btn{display:flex;align-items:center;justify-content:center;width:32px;height:32px;padding:0;border:none;background:none;color:var(--text);cursor:pointer;border-radius:6px;transition:color .15s,background .15s}
.program-list-btn:hover{color:var(--text);background:var(--surface2)}
.program-list-btn-delete:hover{color:var(--accent)}
.add-program-cta{display:flex;align-items:center;gap:10px;width:100%;padding:16px 20px;background:var(--surface);border:2px dashed var(--border);border-radius:12px;font-family:'Outfit',sans-serif;font-size:15px;font-weight:600;color:var(--accent);cursor:pointer;transition:all .2s;margin-bottom:20px}
.add-program-cta:hover{border-color:var(--accent);background:var(--accent-glow)}
.program-paste-zone{background:var(--surface);border:2px dashed var(--border);border-radius:12px;padding:20px;margin-bottom:16px}
.program-paste-zone.drag-over{border-color:var(--accent);background:var(--accent-glow)}
.program-paste-zone p{font-size:13px;color:var(--text-dim);margin-bottom:12px}
.program-paste-zone textarea{width:100%;min-height:200px;background:var(--bg);border:1px solid var(--border);border-radius:8px;padding:14px 16px;color:var(--text);font-family:'JetBrains Mono',monospace;font-size:13px;line-height:1.6;resize:vertical;outline:none}
.program-paste-zone textarea:focus{border-color:var(--accent)}
.program-actions{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
.program-name-input{flex:1;min-width:180px;padding:10px 14px;background:var(--bg);border:1px solid var(--border);border-radius:8px;color:var(--text);font-family:'Outfit',sans-serif;font-size:14px}
.program-preview-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;flex-wrap:wrap;gap:12px}
.program-preview-header h2{font-size:16px;font-weight:700}
.program-edit-name-row{display:flex;align-items:center;gap:12px;flex:1;min-width:200px}
.program-edit-name-label{font-size:12px;font-weight:600;color:var(--text-dim);text-transform:uppercase;letter-spacing:.5px;white-space:nowrap}
.program-preview-header-right{display:flex;align-items:center;gap:12px;flex-shrink:0}
.program-edit-workout-count{font-size:14px;color:var(--text-dim)}
.link-btn{background:none;border:none;color:var(--accent);font-size:13px;cursor:pointer;font-weight:500}
.link-btn:hover{text-decoration:underline}
.program-preview-table-wrap{overflow-x:auto;margin-bottom:16px;border:1px solid var(--border);border-radius:8px}
.program-preview-table{width:100%;border-collapse:collapse;font-size:13px}
.program-preview-table th,.program-preview-table td{padding:10px 12px;text-align:left;border-bottom:1px solid var(--border)}
.program-preview-table th{background:var(--bg);font-weight:600;color:var(--text-dim)}
.program-preview-table tr:last-child td{border-bottom:none}
.program-edit-num{width:56px;padding:6px 8px;background:var(--bg);border:1px solid var(--border);border-radius:6px;font-size:12px;color:var(--text)}
.program-edit-day-num{font-size:13px;font-weight:600;color:var(--text);min-width:32px}
.program-edit-text{width:100%;min-width:200px;padding:6px 10px;background:var(--bg);border:1px solid var(--border);border-radius:6px;font-size:13px;color:var(--text)}
.program-save-btn{background:var(--accent);border:none;color:#fff;font-size:12px;cursor:pointer;padding:4px 10px;border-radius:4px;font-weight:600}
.program-save-btn:hover{opacity:.85}
.program-save-btn:disabled{opacity:.5;cursor:not-allowed}
.program-remove-btn{background:none;border:none;color:var(--accent);font-size:12px;cursor:pointer;padding:4px}
.program-remove-btn:hover{text-decoration:underline}
/* Block-level edit */
.block-edit-list{display:flex;flex-direction:column;gap:8px;margin-bottom:16px}
.block-edit-row{background:var(--surface);border:1px solid var(--border);border-radius:8px;overflow:hidden}
.block-edit-row--expanded{border-color:var(--border-light)}
.block-edit-header{display:flex;align-items:center;gap:12px;padding:10px 14px;cursor:pointer;transition:background .15s}
.block-edit-header:hover{background:var(--surface2)}
.block-edit-day{font-size:13px;font-weight:700;color:var(--text);min-width:48px;flex-shrink:0}
.block-edit-summary{flex:1;font-size:13px;color:var(--text-dim);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.block-edit-actions{display:flex;align-items:center;gap:8px;flex-shrink:0}
.block-edit-chevron{color:var(--text-muted);transition:transform .2s ease;flex-shrink:0}
.block-edit-chevron--open{transform:rotate(180deg)}
.block-edit-body{padding:8px 14px 14px;border-top:1px solid var(--border);display:flex;flex-direction:column;gap:10px}
.block-edit-block{display:flex;flex-direction:column;gap:4px}
.block-edit-block-header{display:flex;align-items:center;justify-content:space-between}
.block-edit-block-label{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-dim)}
.block-edit-block-remove{background:none;border:none;color:var(--text-muted);cursor:pointer;padding:2px;border-radius:4px;display:flex;align-items:center;justify-content:center}
.block-edit-block-remove:hover{color:var(--accent)}
.block-edit-textarea{width:100%;background:var(--bg);border:1px solid var(--border);border-radius:6px;padding:8px 10px;color:var(--text);font-family:'JetBrains Mono',monospace;font-size:12px;line-height:1.5;resize:none;overflow:hidden;outline:none;transition:border-color .2s,box-shadow .2s}
.block-edit-textarea:focus{border-color:var(--accent);box-shadow:0 0 0 3px var(--accent-glow)}
.block-edit-textarea::placeholder{color:var(--text-muted)}
.block-edit-add-wrap{position:relative}
.block-edit-add-btn{display:flex;align-items:center;gap:6px;padding:6px 12px;background:none;border:1px dashed var(--border);border-radius:6px;color:var(--text-muted);font-family:'Outfit',sans-serif;font-size:12px;font-weight:500;cursor:pointer;transition:all .15s}
.block-edit-add-btn:hover{border-color:var(--accent);color:var(--accent)}
.block-edit-add-menu{position:absolute;top:100%;left:0;margin-top:4px;background:var(--surface2);border:1px solid var(--border);border-radius:8px;overflow:hidden;z-index:10;min-width:140px;box-shadow:0 4px 16px rgba(0,0,0,.4)}
.block-edit-add-option{display:block;width:100%;padding:8px 14px;background:none;border:none;color:var(--text);font-family:'Outfit',sans-serif;font-size:13px;text-align:left;cursor:pointer;transition:background .15s}
.block-edit-add-option:hover{background:var(--accent-glow);color:var(--accent)}
.block-edit-add-option:not(:last-child){border-bottom:1px solid var(--border)}
.program-detail-wrap,.programs-add-wrap{max-width:900px;margin:0 auto}
.program-detail-actions{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
.program-workouts-table-wrap{overflow-x:auto;border:1px solid var(--border);border-radius:8px}
.program-workouts-table{width:100%;border-collapse:collapse;font-size:13px}
.program-workouts-table th,.program-workouts-table td{padding:12px 16px;text-align:left;border-bottom:1px solid var(--border)}
.program-workouts-table th{background:var(--bg);font-weight:600;color:var(--text-dim)}
.program-workouts-table .workout-text-cell{color:var(--text);font-family:'JetBrains Mono',monospace;font-size:12px;white-space:pre-wrap;vertical-align:top}

/* Program progress bar */
.program-progress{margin-bottom:16px}
.program-progress-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:6px}
.program-progress-label{font-size:13px;font-weight:600;color:var(--text-dim)}
.program-progress-count{font-size:13px;color:var(--text-dim);font-variant-numeric:tabular-nums}
.program-progress-bar{height:6px;background:var(--surface2);border-radius:3px;overflow:hidden}
.program-progress-fill{height:100%;background:var(--accent);border-radius:3px;transition:width .3s ease}

/* Completed row styling */
.program-row-completed{background:color-mix(in srgb,var(--accent) 6%,transparent)}
.program-row-completed .workout-text-cell{opacity:.7}
.program-day-dot{display:inline-block;width:8px;height:8px;border-radius:50%;border:2px solid var(--border);flex-shrink:0}
.program-completed-badge{display:inline-flex;align-items:center;font-size:11px;font-weight:600;color:var(--accent);background:color-mix(in srgb,var(--accent) 12%,transparent);padding:3px 8px;border-radius:4px;letter-spacing:.3px}
.workout-blocks{display:flex;flex-direction:column;gap:10px}
.workout-block{background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:10px 12px;overflow:hidden}
.workout-block-label{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-dim);margin-bottom:4px}
.workout-block-content{font-size:12px;font-family:'JetBrains Mono',monospace;color:var(--text);line-height:1.5;white-space:pre-wrap}
.workout-block-lines{list-style:none;margin:0;padding:0}
.workout-blocks-fallback{font-family:'JetBrains Mono',monospace;font-size:12px;white-space:pre-wrap;line-height:1.5;color:var(--text)}
.error-msg{color:var(--accent);font-size:13px}
/* Program Analysis */
.analysis-toolbar{display:flex;align-items:center;flex-wrap:wrap;gap:8px;margin-bottom:20px}
.analysis-section{margin-bottom:28px}
.analysis-section-title{font-size:14px;font-weight:700;text-transform:uppercase;letter-spacing:.6px;color:var(--text-dim);margin-bottom:12px}
.analysis-bar-chart{display:flex;flex-direction:column;gap:10px}
.analysis-bar-row{display:flex;align-items:center;gap:12px}
.analysis-bar-label{min-width:120px;font-size:13px;color:var(--text)}
.analysis-bar-track{flex:1;height:8px;background:var(--surface2);border-radius:4px;overflow:hidden}
.analysis-bar-fill{height:100%;background:var(--accent);border-radius:4px;transition:width .3s ease}
.analysis-bar-value{min-width:24px;font-size:12px;color:var(--text-dim);text-align:right}
.analysis-movement-table-wrap{overflow-x:auto;border:1px solid var(--border);border-radius:8px}
.analysis-notices,.analysis-overlaps{list-style:disc;margin-left:20px;color:var(--text-dim);font-size:13px;line-height:1.6}
.analysis-notices li,.analysis-overlaps li{margin-bottom:4px}
.analysis-incorporate{background:var(--surface);border:1px solid var(--border);border-radius:12px;padding:20px}
.analysis-incorporate-desc{font-size:13px;color:var(--text-dim);margin-bottom:16px;line-height:1.5}
.analysis-not-programmed{display:flex;flex-direction:column;gap:16px}
.analysis-category{display:flex;flex-direction:column;gap:8px}
.analysis-category-label{font-size:12px;font-weight:600;color:var(--text-dim);text-transform:uppercase}
.analysis-movement-chips{display:flex;flex-wrap:wrap;gap:8px}
.analysis-movement-chip{padding:6px 12px;background:var(--bg);border:1px solid var(--border);border-radius:8px;color:var(--text-dim);font-size:13px;cursor:pointer;transition:all .15s}
.analysis-movement-chip:hover{border-color:var(--border-light);color:var(--text)}
.analysis-movement-chip.selected{background:var(--accent-glow);border-color:var(--accent);color:var(--accent)}
.analysis-incorporate-actions{display:flex;align-items:center;gap:16px;margin-top:16px}
.analysis-selected-count{font-size:13px;color:var(--text-dim)}
.analysis-loading-stats{font-size:13px;color:var(--text-dim);margin-bottom:12px}
.program-pending-file{margin-top:12px;font-size:13px;color:var(--text-dim)}
/* Compare */
.compare-row-modified{background:rgba(255,58,58,.06)}
.compare-change-cell{font-size:12px;color:var(--text-dim);max-width:200px}
/* Review */
.review-progress-bar{margin-bottom:24px;padding:12px 16px;background:var(--surface);border:1px solid var(--border);border-radius:8px}
.review-progress-label{font-size:13px;color:var(--text-dim)}
.review-cards{display:flex;flex-direction:column;gap:16px}
.review-card{background:var(--surface);border:1px solid var(--border);border-radius:12px;overflow:hidden}
.review-card-approved{border-left:4px solid #22c55e}
.review-card-rejected{border-left:4px solid var(--text-muted)}
.review-card-header{display:flex;flex-direction:column;gap:4px;padding:14px 18px;border-bottom:1px solid var(--border)}
.review-card-title{font-size:14px;font-weight:600;color:var(--text)}
.review-card-summary{font-size:12px;color:var(--text-dim)}
.review-card-body{display:grid;grid-template-columns:1fr 1fr;gap:16px;padding:18px}
@media(max-width:640px){.review-card-body{grid-template-columns:1fr}}
.review-card-original,.review-card-modified{display:flex;flex-direction:column;gap:6px}
.review-card-label{font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:.5px;color:var(--text-dim)}
.review-card-text{font-size:13px;font-family:'JetBrains Mono',monospace;color:var(--text);background:var(--bg);padding:10px 12px;border-radius:6px;line-height:1.5}
.review-card-rationale{margin-top:8px;padding:10px 12px;background:var(--surface2);border-radius:6px;font-size:12px;color:var(--text-dim);font-style:italic;grid-column:1/-1}
.review-card-actions{display:flex;gap:12px;padding:14px 18px;border-top:1px solid var(--border)}
.review-card-status{padding:14px 18px;border-top:1px solid var(--border);font-size:13px;color:var(--text-dim)}
@media(max-width:640px){.chat-header{padding:10px 12px}.source-btn{padding:6px 10px;font-size:11px}.messages{padding:16px 12px}.msg.user{max-width:85%}.msg-body.assistant{padding:14px 16px}.input-area{padding:10px 12px 14px}.auth-card{padding:32px 24px}.suggestions{flex-direction:column}.welcome h2{font-size:22px}.welcome-logo{width:52px;height:52px;font-size:26px}.page-header{flex-wrap:wrap}.history-search-wrap{max-width:none;flex-basis:100%;order:3;margin-left:0;margin-top:8px}}
